<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>00: FileTree Test</title>
	<!-- -->
	<style type="text/css">
		body, html {
			width: 100%;
			height: 100%;
			margin: 0;
			overflow: hidden;
			font-family: "Segoe UI", Arial, Verdana;
			font-size: 9pt;
			background-color: #F1F1F1;
		}
	</style>
	<script src="../../../bootloader.js" type="text/javascript"></script>
	<!-- -->
	<script type="text/javascript">
		go = function() {
			
			opus.server.baseUrl = opus.path.rewrite("$opus/../Composer/");
			
			view = new opus.View({
				minWidth: 376,
				minHeight: 164,
				styles: {border: 8, padding: 4, borderColor: "green"},
				layoutKind: "vbox",
				controls: [
					{name: "field", type: "opus.Field", caption: "Path", value: "", w: 350},
					//{type: "opus.Aristo.Button", caption: "Populate", w: 100, onclick: "populate"},
					{name: "tree", type: "Tree", h: "100%", w:"100%", styles: {border: 1}, onclick: "nodeClick", onselect: "nodeSelect", controls: [
						{name: "root", type: "opus.FileTreeNode", server: opus.server, caption: "Foo", path: ""} 
					]}
				],
				populate: function() {
					this.$.root.populate(this.$.root.path);
				},
				nodeSelect: function(inSender, inSelected) {
					var info = inSelected.fileInfo;
					//this.$.field.setValue(info.path + info.name);
					if (info) {
						this.$.field.setValue(info.namePath);
					}
				},
				nodeClick: function() {
					//console.log("nodeClick", arguments);
				}
			});
		}
	</script>
</head>
<body onload="go()">
</body>
</html>
